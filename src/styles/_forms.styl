// Forms
//
label
  display: inline-block
  margin-bottom: .5rem

fieldset
  min-width: 0
  margin: 0
  padding: 0
  border: 0

legend
  display: block
  margin-bottom: .5rem
  padding: 0
  width: 100%
  font-size: 1.5rem
  line-height: inherit
  border: 0

textarea
  // Textareas only resize vertically
  resize: vertical


// Form groups
//
.form-group
  margin-bottom: $form-group-mb

  .alert-error
    padding-top: 5px
    padding-left: 10px


// Textual form controls
//
.form-control
  display: block
  padding: $input-pdg-y $input-pdg-x
  width: 100%
  height: $input-height
  font-family: $input-ff
  font-size: $fs-base
  line-height: $lh
  color: $input-clr
  background-color: $input-bkg
  // Reset unusual Firefox (Android) default style: https://github.com/necolas/normalize.css/issues/214.
  background-image: none
  border: $input-border-width solid $input-border
  border-radius: $input-border-radius
  box-shadow: $input-box-shadow
  // transition: border-color ease-in-out .15s, box-shadow ease-in-out .15s;

  // Unstyle the caret on `<select>` in IE10+.
  &::-ms-expand
    background-color: transparent
    border: 0

  // Placeholder
  &::placeholder
    color: $input-clr-placeholder
    // Override Firefox's unusual default opacity
    opacity: 1

  // Disabled and read-only inputs
  &:disabled,
  &[readonly],
  fieldset[disabled] &
    background-color: $input-bkg-disabled
    // iOS fix for unreadable disabled content
    opacity: 1

  &[disabled],
  fieldset[disabled] &
    cursor: $cursor-disabled

// Reset to auto height for `<textarea>` and some `<select>`
.form-control textarea,
.form-control select[type="size"],
.form-control select[type="multiple"]
  height: auto


// Form control sizing
.form-control-sm
  padding: $input-pdg-y-sm $input-pdg-x-sm
  height: $input-height-sm
  font-size: $fs-sm
  line-height: $lh-sm
  border-radius: $input-border-radius-sm

.form-control-lg
  padding: $input-pdg-y-lg $input-pdg-x-lg
  height: $input-height-lg
  font-size: $fs-lg
  line-height: $lh-lg
  border-radius: $input-border-radius-lg


// Inline forms
//
// Make forms appear inline(-block) by adding the `.form-inline` class.
//
// Requires wrapping inputs and labels with `.form-group` for proper display of
// default HTML form controls and our custom form controls.
.form-inline
  display: flex
  justify-content: center

  .form-group
    margin-left: $spacer-x
    margin-bottom: 0
    vertical-align: middle
    &:first-child
      margin-left: 0

  .form-control
    display: inline-block;
    width: auto;
    vertical-align: middle;

  .input-group
    display: inline-table
    vertical-align: middle

    .input-group-addon,
    .input-group-btn,
    .form-control
      width: auto

  // Input groups need that 100% width though
  .input-group > .form-control
    width: 100%


// Input groups
//
.input-group
  position: relative
  display: flex

  .form-control
    position: relative
    z-index: 2
    flex: 1
    margin-bottom: 0

.input-group-btn,
.input-group .form-control
  &:not(:first-child):not(:last-child)
    border-radius: 0

.input-group-btn
  white-space: nowrap
  vertical-align: middle // Match the inputs


// Sizing options
.input-group-lg > .form-control,
.input-group-lg > .input-group-btn > .btn
  @extend .form-control-lg

.input-group-sm > .form-control,
.input-group-sm > .input-group-btn > .btn
  @extend .form-control-sm


// Reset rounded corners
.input-group .form-control:first-child,
.input-group-btn:first-child > .btn,
.input-group-btn:first-child > .btn-group > .btn,
.input-group-btn:last-child > .btn-group:not(:last-child) > .btn
  border-top-right-radius: 0
  border-bottom-right-radius: 0

.input-group .form-control:last-child,
.input-group-btn:last-child > .btn,
.input-group-btn:last-child > .btn-group > .btn,
.input-group-btn:first-child > .btn:not(:first-child),
.input-group-btn:first-child > .btn-group:not(:first-child) > .btn
  border-top-left-radius: 0
  border-bottom-left-radius: 0

// Button input groups
.input-group-btn
  position: relative
  font-size: 0
  white-space: nowrap

  // Negative margin for spacing, position for bringing hovered/focused/actived
  // element above the siblings.
  > .btn
    position: relative
    + .btn
      margin-left: -1px

    // Bring the "active" button to the front
    +hover-state()
      z-index: 2

  // Negative margin to only have a 1px border between the two
  &:first-child
    > .btn,
    > .btn-group
      margin-right: -1px
  &:last-child
    > .btn,
    > .btn-group
      z-index: 2
      margin-left: -1px